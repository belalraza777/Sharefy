/* ============================================
   Sharefy - Global Responsiveness & Breakpoints
   ============================================ */

/* ========================
   Responsive Container System
   ======================== */
.container {
  width: 100%;
  padding-right: var(--space-md);
  padding-left: var(--space-md);
  margin-right: auto;
  margin-left: auto;
}

@media (min-width: 375px) {
  .container {
    max-width: var(--container-xs);
    padding-right: var(--space-lg);
    padding-left: var(--space-lg);
  }
}

@media (min-width: 576px) {
  .container {
    max-width: var(--container-sm);
    padding-right: var(--space-xl);
    padding-left: var(--space-xl);
  }
}

@media (min-width: 768px) {
  .container {
    max-width: var(--container-md);
  }
}

@media (min-width: 992px) {
  .container {
    max-width: var(--container-lg);
  }
}

@media (min-width: 1200px) {
  .container {
    max-width: var(--container-xl);
  }
}

@media (min-width: 1440px) {
  .container {
    max-width: var(--container-2xl);
  }
}

/* ========================
   Responsive Grid System
   ======================== */
.grid {
  display: grid;
  gap: var(--space-md);
}

.grid-cols-1 { grid-template-columns: repeat(1, 1fr); }
.grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
.grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
.grid-cols-4 { grid-template-columns: repeat(4, 1fr); }

.col-span-1 { grid-column: span 1; }
.col-span-2 { grid-column: span 2; }
.col-span-3 { grid-column: span 3; }
.col-span-4 { grid-column: span 4; }

@media (max-width: 767px) {
  .sm\:grid-cols-1 { grid-template-columns: repeat(1, 1fr); }
  .sm\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
  .sm\:col-span-1 { grid-column: span 1; }
  .sm\:col-span-2 { grid-column: span 2; }
}

@media (min-width: 768px) and (max-width: 991px) {
  .md\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
  .md\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
  .md\:col-span-1 { grid-column: span 1; }
  .md\:col-span-2 { grid-column: span 2; }
  .md\:col-span-3 { grid-column: span 3; }
}

@media (min-width: 992px) {
  .lg\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
  .lg\:grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
  .lg\:col-span-2 { grid-column: span 2; }
  .lg\:col-span-3 { grid-column: span 3; }
  .lg\:col-span-4 { grid-column: span 4; }
}

/* ========================
   Responsive Flex System
   ======================== */
.flex { display: flex; }
.flex-col { flex-direction: column; }
.flex-row { flex-direction: row; }
.flex-wrap { flex-wrap: wrap; }
.flex-nowrap { flex-wrap: nowrap; }

@media (max-width: 767px) {
  .sm\:flex-col { flex-direction: column; }
  .sm\:flex-row { flex-direction: row; }
  .sm\:flex-wrap { flex-wrap: wrap; }
  .sm\:flex-nowrap { flex-wrap: nowrap; }
}

@media (min-width: 768px) and (max-width: 991px) {
  .md\:flex-col { flex-direction: column; }
  .md\:flex-row { flex-direction: row; }
}

@media (min-width: 992px) {
  .lg\:flex-col { flex-direction: column; }
  .lg\:flex-row { flex-direction: row; }
}

/* ========================
   Mobile-First Responsive Typography
   ======================== */
h1 { font-size: 1.75rem; line-height: 1.2; }
h2 { font-size: 1.5rem; line-height: 1.3; }
h3 { font-size: 1.25rem; line-height: 1.4; }
h4 { font-size: 1.125rem; line-height: 1.4; }
h5 { font-size: 1rem; line-height: 1.5; }
h6 { font-size: 0.875rem; line-height: 1.5; }

body {
  font-size: 0.9375rem;
}

@media (min-width: 768px) {
  h1 { font-size: 2.25rem; }
  h2 { font-size: 1.875rem; }
  h3 { font-size: 1.5rem; }
  h4 { font-size: 1.25rem; }
  body { font-size: 1rem; }
}

@media (min-width: 992px) {
  h1 { font-size: 2.5rem; }
  h2 { font-size: 2rem; }
  h3 { font-size: 1.75rem; }
  h4 { font-size: 1.5rem; }
}

@media (min-width: 1200px) {
  h1 { font-size: 3rem; }
  h2 { font-size: 2.25rem; }
}

/* ========================
   Responsive Spacing Utilities
   ======================== */
.m-0 { margin: 0; }
.m-1 { margin: var(--space-xs); }
.m-2 { margin: var(--space-sm); }
.m-3 { margin: var(--space-md); }
.m-4 { margin: var(--space-lg); }
.m-5 { margin: var(--space-xl); }
.mx-auto { margin-left: auto; margin-right: auto; }

.p-0 { padding: 0; }
.p-1 { padding: var(--space-xs); }
.p-2 { padding: var(--space-sm); }
.p-3 { padding: var(--space-md); }
.p-4 { padding: var(--space-lg); }
.p-5 { padding: var(--space-xl); }

@media (max-width: 767px) {
  .sm\:p-2 { padding: var(--space-sm); }
  .sm\:p-3 { padding: var(--space-md); }
  .sm\:m-2 { margin: var(--space-sm); }
  .sm\:m-3 { margin: var(--space-md); }
}

@media (min-width: 768px) {
  .md\:gap-3 { gap: var(--space-md); }
  .md\:gap-4 { gap: var(--space-lg); }
}

.gap-0 { gap: 0; }
.gap-1 { gap: var(--space-xs); }
.gap-2 { gap: var(--space-sm); }
.gap-3 { gap: var(--space-md); }
.gap-4 { gap: var(--space-lg); }
.gap-5 { gap: var(--space-xl); }

@media (max-width: 767px) {
  .sm\:gap-1 { gap: var(--space-xs); }
  .sm\:gap-2 { gap: var(--space-sm); }
  .sm\:gap-3 { gap: var(--space-md); }
}

/* ========================
   Mobile-Optimized Touch Targets
   ======================== */
@media (max-width: 767px) {
  .btn {
    min-height: 44px;
    padding: var(--space-md) var(--space-lg);
    font-size: 1rem;
  }

  .btn-sm {
    min-height: 36px;
    padding: var(--space-sm) var(--space-md);
  }

  .btn-lg {
    min-height: 52px;
    padding: var(--space-lg) var(--space-xl);
  }

  .form-input,
  .form-textarea {
    font-size: 16px;
    padding: var(--space-lg) var(--space-md);
    min-height: 44px;
  }

  input,
  textarea,
  select {
    -webkit-appearance: none;
    border-radius: var(--radius-md);
  }

  .card {
    padding: var(--space-md);
    margin: var(--space-sm);
    border-radius: var(--radius-md);
  }

  .card-sm {
    padding: var(--space-sm);
    margin: var(--space-xs);
  }
}

/* ========================
   Responsive Display Utilities
   ======================== */
.hidden { display: none; }
.block { display: block; }
.inline-block { display: inline-block; }
.inline { display: inline; }

.mobile-only { display: block; }
.desktop-only { display: none; }

@media (min-width: 768px) {
  .mobile-only { display: none; }
  .tablet-only { display: block; }
  .tablet-hidden { display: none; }
}

@media (min-width: 992px) {
  .tablet-only { display: none; }
  .desktop-only { display: block; }
  .sm\:hidden { display: none; }
  .md\:block { display: block; }
  .lg\:flex { display: flex; }
}

@media (max-width: 374px) {
  .xs\:hidden { display: none; }
  .xs\:block { display: block; }
}

/* ========================
   Sticky Header (Mobile)
   ======================== */
@media (max-width: 767px) {
  .sticky-header {
    padding: var(--space-sm) 0;
    position: fixed;
    width: 100%;
    top: 0;
    z-index: var(--z-sticky);
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.95);
  }

  [data-theme='dark'] .sticky-header,
  html[data-theme='dark'] .sticky-header {
    background: rgba(36, 37, 38, 0.95);
  }

  .mobile-safe-area {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* ========================
   Responsive Images & Media
   ======================== */
.responsive-img {
  max-width: 100%;
  height: auto;
  display: block;
}

.cover-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.aspect-ratio-16-9 { aspect-ratio: 16 / 9; }
.aspect-ratio-4-3 { aspect-ratio: 4 / 3; }
.aspect-ratio-1-1 { aspect-ratio: 1 / 1; }

@media (max-width: 767px) {
  .aspect-ratio-16-9 {
    aspect-ratio: 4 / 3;
  }
}

/* ========================
   Touch Device Optimizations
   ======================== */
@media (hover: none) and (pointer: coarse) {
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  .touch-spacing > * + * {
    margin-top: var(--space-md);
  }
}

@media (hover: none) {
  .card:hover {
    transform: none;
  }

  .btn:hover {
    transform: none;
  }
}

/* ========================
   Responsive Modal & Overlay
   ======================== */
@media (max-width: 767px) {
  .modal-content {
    width: 95%;
    max-height: 85vh;
    margin: 2.5vh auto;
    border-radius: var(--radius-lg) var(--radius-lg) 0 0;
  }

  .modal-bottom-sheet {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: var(--radius-xl) var(--radius-xl) 0 0;
    animation: slideUp 0.3s ease;
  }

  @keyframes slideUp {
    from { transform: translateY(100%); }
    to { transform: translateY(0); }
  }
}

/* ========================
   Safe Area Insets
   ======================== */
@supports (padding: max(0px)) {
  .safe-top {
    padding-top: max(var(--space-md), env(safe-area-inset-top));
  }

  .safe-bottom {
    padding-bottom: max(var(--space-md), env(safe-area-inset-bottom));
  }

  .safe-left {
    padding-left: max(var(--space-md), env(safe-area-inset-left));
  }

  .safe-right {
    padding-right: max(var(--space-md), env(safe-area-inset-right));
  }
}

/* ========================
   Print Styles
   ======================== */
@media print {
  .no-print {
    display: none !important;
  }

  body {
    font-size: 12pt;
    line-height: 1.5;
    color: #000;
    background: #fff;
  }

  .card {
    box-shadow: none;
    border: 1px solid #ddd;
  }

  a {
    color: #000;
    text-decoration: underline;
  }
}

/* ========================
   Reduced Motion
   ======================== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  html {
    scroll-behavior: auto;
  }

  .card:hover,
  .btn:hover {
    transform: none;
  }
}

/* ========================
   High Contrast Mode
   ======================== */
@media (prefers-contrast: high) {
  :root {
    --primary: #4b3bbd;
    --border-color: #000;
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.3);
  }

  .btn {
    border: 2px solid var(--border-color);
  }

  .form-input {
    border: 2px solid var(--border-color);
  }
}

/* ========================
   Performance (Mobile)
   ======================== */
@media (max-width: 767px) {
  .card,
  .btn {
    transition: opacity var(--transition-fast), background var(--transition-fast);
  }
}

@media (min-width: 992px) {
  .performance-optimized {
    will-change: transform, opacity;
  }
}
